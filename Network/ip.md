IP协议是TCP/IP协议族的动力，它为上层协议提供无状态、无连接、不可靠的服务。

## IP服务的特点
#### 1.无状态(stateless)
无状态是指IP通信双方不同步传输数据的状态信息，因此所有IP数据报的发送、传输和接收都是相互独立、没有上下关系的。

##### 缺点
- 无法处理乱序和重复的IP数据报。

##### 优点
- 简单、高效。无须为保持通信的状态而分配一些内核资源，也无须为每次传输数据时都携带状态信息。

#### 2.无连接(connectionless)
无连接是指IP通信双方都不长久的维护对方的任何信息。上层协议每次发送数据时，都必须明确指定对方的IP。

#### 3.不可靠
不可靠是指IP协议不能保证IP数据报准确到达接收端，它只是承诺尽最大努力。

## IP分片
当IP数据报的长度超过帧的MTU时，它将会被分片传输。

数据报标识、标志和片偏移三个字段给IP的重组和分片提供了足够的信息。
- 一个IP数据报的每个分片都具有自己的IP头部，它们具有相同的标识值，但具有不同的片偏移。
- 除了最后一个分片，其它分片都将设置MF标志。
- 每个分片的IP头部的总长度字段将被设置为该分片的长度。

IP层传递给数据链路层的数据可能是一个完整的数据报，也可能是一个IP分片，它们统称为IP分组(packet)。

## IP路由
IP协议的一个核心任务是数据报的路由，即决定发送数据报到目标机器的路径。

IP数据报应该发送至哪一个下一跳路由(或目标机器)，以及经过那个网卡来发送，就是**IP路由过程**。

IP模块实现数据报路由的核心数据结构是**路由表**。

通过路由协议或者route命令调整路由表，使之更适应最新的网络拓扑结构，称为**IP路由策略**。



























